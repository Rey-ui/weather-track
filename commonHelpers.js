import{a as p,i as u}from"./assets/vendor-db25513e.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function s(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=s(r);fetch(r.href,o)}})();const y="169e2d2ec6f9ef07a3c4e60acede402f",g="https://api.openweathermap.org/data/2.5";async function f(e){return(await p.get(`${g}/weather?q=${e}&appid=${y}`)).data}function d(e,t){const s=e.map(({id:i,name:r,main:{temp:o}})=>`<li id="${i}" class="gallery__item">
                  ${r} <span>${o}</span><a href="../../parcials/city-info.html"></a>
                  <button class="item-btn">X</button>
      </li>`).join("");t.insertAdjacentHTML("beforeend",s)}function h({name:e,main:{temp:t}}){return`<li name="${e}" class="gallery__item">${e} <span>${t}</span><a href="../../parcials/city-info.html?name=${e}">hjhj</a></li>`}const C=["London","Tokio","Paris","Berlin","Kyiv","Seoul","Pekin","Toronto"];async function L(e){try{for(let t of C){const s=await f(t);e.insertAdjacentHTML("beforeend",h(s))}}catch(t){console.log(t)}}function S(e){console.log({Clouds:"#icon-cloud"}[e])}function E(e){return JSON.parse(localStorage.getItem(e))||[]}function m(e,t){return localStorage.setItem(t,JSON.stringify(e))}const a="citiesList";S("Clouds");const _=document.querySelector(".our-cities__form"),c=document.querySelector(".our-cities__list"),b=document.querySelector(".popular-cities__list"),v=document.querySelector(".our-cities__clear-btn");let n=E(a)||[];_.addEventListener("submit",w);c.addEventListener("click",T);v.addEventListener("click",$);d(n,c);L(b);async function w(e){e.preventDefault();const t=e.currentTarget,s=t.elements.city.value.trim();if(!s){u.error({title:"Error",message:"❌Sorry, already exist!"});return}try{const i=await f(s);if(console.log(i.weather[0].main),!i||i.length===0)return;{c.innerHTML="";const r=A(i);console.log(n),d(r,c)}}catch(i){console.log(i),u.error({title:"Error",message:"❌Sorry, there are no images matching your search query. Please, try again!"})}finally{t.reset()}}function P(e,t){t.innerHTML="",d(e,t)}function T(e){const t=e.target.closest(".item-btn");if(!t)return;const s=t.closest("li"),i=Number(s.id);n=n.filter(r=>r.id!==i),m(n,a),P(n,c)}function $(){c.innerHTML="",n=[],localStorage.removeItem(a)}function A(e){return n.some(s=>s.id===e.id)?(u.error({title:"Error",message:"❌Sorry, already exist!"}),n):(n=[...n,e],m(n,a),n)}
//# sourceMappingURL=commonHelpers.js.map
